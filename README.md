# NTT (Number Theoretic Transform) 项目

基于数论变换（NTT）实现的高效多项式乘法算法，使用 C 语言编写。

## 课题背景

**课程**：密码学课程设计  
**题目**：快速数论变换（NTT）的实现与分析

### 课题要求

**要求一：功能实现**
- 使用 C 语言实现 NTT 快速数论变换
- 支持至少 256 次多项式的乘法运算
- 提供完整的代码实现与详细注释

**要求二：性能分析**
- 探索算法性能与多项式次数之间的对应关系
- 通过实验数据验证时间复杂度
- 分析不同规模下的性能表现

## 项目简介

本项目实现了基于 NTT 的快速多项式乘法，采用模数 `P = 998244353` 和原根 `G = 3`。通过 Cooley-Tukey 蝴蝶算法实现 $O(n \log n)$ 时间复杂度的多项式相乘，相比朴素算法的 $O(n^2)$ 有显著性能提升。

## 核心功能

- **快速幂算法**：高效计算模幂运算
- **位逆序置换**：优化 NTT 的内存访问模式
- **NTT/INTT 变换**：正向和逆向数论变换
- **多项式乘法**：支持任意次数多项式相乘
- **性能测试**：包含从 $2^8$ 到 $2^{18}$ 规模的性能基准测试

## 技术参数

| 参数 | 值 |
|------|-----|
| 模数 (MOD) | 998244353 |
| 原根 (G) | 3 |
| 逆元 (G_INV) | 332748118 |
| 算法复杂度 | $O(n \log n)$ |

## 编译与运行

### 编译

```bash
gcc -o ntt_project ntt_project.c -lm
```

或使用项目配置的 VS Code 构建任务（`Ctrl+Shift+B`）。

### 运行

```bash
./ntt_project
```

或在 Windows 下：

```powershell
.\ntt_project.exe
```

## 输出示例

### 功能验证
```
--- 要求一：NTT 功能验证 ---
Test (1+2x)*(2+3x) Result: 2 + 7x + 6x^2
Expected: 2 + 7x + 6x^2
```

### 性能测试
```
--- 要求二：性能与多项式次数关系分析 ---
Degree (N)  | Limit (Size)    | Time (seconds)
------------|-----------------|----------------
N=2^8       | 512             | 0.000123 s
N=2^10      | 2048            | 0.000456 s
N=2^12      | 8192            | 0.001789 s
...
N=2^18      | 524288          | 0.089234 s
```

## 算法原理

1. **点值表示转换**：通过 NTT 将多项式从系数表示转为点值表示
2. **点值相乘**：在点值表示下 $O(n)$ 完成乘法
3. **系数恢复**：通过 INTT 转回系数表示

数学基础：

```math
\text{NTT}(a)[k] = \sum_{i=0}^{n-1} a[i] \cdot g^{ik} \mod p
```

其中 g 是 n 次单位根，p 是模数。

## 项目结构

```
NTT/
├── ntt_project.c       # 主程序源代码
├── README.md           # 项目文档
├── .gitignore          # Git 忽略规则
└── .vscode/            # VS Code 配置
    ├── tasks.json      # 构建任务
    └── c_cpp_properties.json  # C/C++ 配置
```

## 性能优化

- 预计算位逆序数组，避免重复计算
- 使用迭代而非递归实现 NTT
- 模运算优化（快速幂、取模优化）
- 内存对齐与缓存友好的访问模式

## 应用场景

- 大整数乘法（FFT/NTT 实现）
- 多项式运算库
- 密码学中的模乘法加速
- 信号处理与卷积计算

## 开发环境

- **编译器**：GCC (MinGW64)
- **IDE**：Visual Studio Code
- **语言标准**：C99+
- **依赖库**：仅标准库（`stdio.h`, `stdlib.h`, `math.h`, `time.h`, `string.h`）

## 作者

Kairos (24270625@hdu.edu.cn)

## 许可证

本项目为学术用途，供学习和研究使用。

---

**GitHub 仓库**：[https://github.com/Tsulling/NTT](https://github.com/Tsulling/NTT)
